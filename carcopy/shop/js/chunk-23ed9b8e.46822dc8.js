(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23ed9b8e"],{"4a26":function(t,e,i){},"5e59":function(t,e,i){"use strict";var a=i("9760"),n=i.n(a);n.a},7159:function(t,e,i){"use strict";var a=i("4a26"),n=i.n(a);n.a},9760:function(t,e,i){},a412:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toptitle nb",class:t.shadow?"bm":"",style:t.pstyle},[t._m(0),i("div",{staticClass:"name"},[t._v(t._s(t.title))])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toptitle-imgs"},[a("img",{attrs:{src:i("f5a4")}})])}],r=(i("b0c0"),{props:{title:{type:String,default:""},colorstr:{type:String,default:"#333"}},data:function(){return{pbstyle:{background:"#ffffff",color:this.colorstr},pstyle:void 0,shadow:void 0}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;t>150?(this.pstyle=this.pbstyle,this.pstyle.color="#000 !important",this.name={color:"#000"},this.src=2):(this.pstyle="",this.src=1,this.name={color:"#fff"})}}}),s=r,o=(i("5e59"),i("2877")),d=Object(o["a"])(s,a,n,!1,null,"0a693a99",null);e["a"]=d.exports},f5a4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABhUlEQVR4Xu3Zy03EMBSF4WunAGiBDkzSAFQMHUADtlICHRAKSIIiMZsRy/s4R3Y2s7Pyf7azuJOk8yd13i8DYJyAzgXGFej8APB8BEspJef8llLaaq3PWhtHcQX+4j9SSo8i8lNrvX5VHniA+/h931/WdV1V6kWwr4B1/IUIewI84mEBvOIhATzj4QC846EAIuJhAKLiIQAi48MBouNDARDiwwBQ4kMAkOLdAdDiXQEQ490AUONdAJDjzQHQ400BGOLNAFjiTQCY4tUB2OLVAeZ5/r6NrrWnt1pT4Pt1VIeiy7JsIvJwnud2HMer5viaAuC6AtM0fTIhqJ6Aa5fYENQB2BBMAJgQzABYEEwBGBDMAdARXACQEdwAUBFcARAR3AHQEEIAkBDCAFAQQgEQEMIBohEgACIRYACiEKAAIhDgALwRIAE8EWABvBCgATwQ4AH+QfhqrT1pjckpAG4IOed3Edlaa6U7AK1g03+GrF7Scl2aK2CFMACsZFnWHSeAZaes3vMXMBn6UISvQ8QAAAAASUVORK5CYII="},f6eb:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("div",{on:{click:t.toggleRetun}},[i("Toptitle",{attrs:{title:t.title}})],1),i("div",{staticClass:"order-wrap"},[t._l(t.list,(function(e,a){return i("div",{staticClass:"upload-item"},[i("div",{staticClass:"upload-title"},[i("span",[t._v("上传安装视频（"+t._s(a+1)+"）")])]),i("div",{staticClass:"upload-content",on:{click:function(e){return t.handelonIndex(a)}}},[i("van-uploader",{attrs:{"before-read":t.beforeRead,accept:".mp4,.mp3,.avi","after-read":t.afterRead}},["3"===e.url?i("van-button",{attrs:{icon:"video"}},[t._v("上传安装视频")]):i("div",{staticClass:"video"},[i("video",{attrs:{src:e.url}})])],1),i("p",[t._v("点击进入相册选择需要上传的视频")])],1)])})),t.list.length<5?i("div",{staticClass:"continue",on:{click:t.toggleAdd}},[i("van-icon",{staticClass:"add-item",attrs:{name:"add-o"}}),t._v(" 继续添加视频 ")],1):t._e(),i("div",{staticClass:"add-tips"},[t._v("最多可上传5段视频("+t._s(t.list.length)+"/5)")])],2),i("van-overlay",{attrs:{show:t.show}},[i("van-loading",{attrs:{size:"24px"}},[t._v("上传中")])],1),i("div",{staticClass:"fixed"},[i("div",{staticClass:"turn ",attrs:{"data-v-0f60746f":""}},[i("div",{staticClass:"have-btn",on:{click:t.clickToUpload}},[t._v("确认上传视频")])])])],1)},n=[],r=i("a412"),s=i("f121"),o=i("bc3a"),d=i.n(o),l=i("d399"),c=i("f8b7"),u={name:"UploadVideo",data:function(){return{title:"选择视频",index:void 0,list:[],id:void 0,show:!1}},created:function(){var t=[{url:"3",order_id:this.$route.query.id}];this.id=this.$route.query.id,this.list=t},methods:{handelonIndex:function(t){this.index=t},beforeRead:function(t){return this.show=!0,!0},afterRead:function(t){var e=this,i=s["a"].uploadUrl.img,a=new FormData;a.append("file",t.file),d.a.post(i,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var i=e.list;i[e.index].url=t.data.data,e.list=i,e.show=!1})).catch((function(t){alert(t)}))},clickToUpload:function(){for(var t=this,e=0;e<this.list.length;e++)if("3"===this.list[e].url)return Object(l["a"])("第"+parseInt(e+1)+"个视频没有添加视频，请先添加"),!1;var i={order_id:this.id,video:this.list};Object(c["f"])(i).then((function(e){t.$router.push({path:"/upload-succ"})}))},toggleRetun:function(){this.$router.go(-1)},toggleAdd:function(){5===this.list.length||this.list.push({order_id:this.id,url:"3"})}},components:{Toptitle:r["a"]}},f=u,h=(i("7159"),i("2877")),A=Object(h["a"])(f,a,n,!1,null,"1d3d53a1",null);e["default"]=A.exports},f8b7:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"e",(function(){return r})),i.d(e,"d",(function(){return s})),i.d(e,"g",(function(){return o})),i.d(e,"c",(function(){return d})),i.d(e,"f",(function(){return l})),i.d(e,"a",(function(){return c}));var a=i("b775");function n(t){return Object(a["a"])({url:"/Order/GetDataByList",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/Order/GetIdBydetails",method:"get",params:{id:t}})}function s(t){return Object(a["a"])({url:"/Order/GetIdByStatus",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/Order/PostNoteByAdd",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/Order/GetIdBy2DayOrder",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/Order/PostDataByVideo",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/Order/GetCodeBycheckCode",method:"get",params:{code:t}})}}}]);
//# sourceMappingURL=chunk-23ed9b8e.46822dc8.js.map