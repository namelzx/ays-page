(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1250c478"],{"1de7":function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),i=n("5899"),a="["+i+"]",s=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),d=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},"5e59":function(t,e,n){"use strict";var r=n("9760"),i=n.n(r);i.a},9760:function(t,e,n){},a412:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toptitle nb",class:t.shadow?"bm":"",style:t.pstyle},[t._m(0),n("div",{staticClass:"name"},[t._v(t._s(t.title))])])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"toptitle-imgs"},[r("img",{attrs:{src:n("f5a4")}})])}],a=(n("b0c0"),{props:{title:{type:String,default:""},colorstr:{type:String,default:"#333"}},data:function(){return{pbstyle:{background:"#ffffff",color:this.colorstr},pstyle:void 0,shadow:void 0}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;t>150?(this.pstyle=this.pbstyle,this.pstyle.color="#000 !important",this.name={color:"#000"},this.src=2):(this.pstyle="",this.src=1,this.name={color:"#fff"})}}}),s=a,o=(n("5e59"),n("2877")),d=Object(o["a"])(s,r,i,!1,null,"0a693a99",null);e["a"]=d.exports},c20d:function(t,e,n){var r=n("da84"),i=n("58a8").trim,a=n("5899"),s=r.parseInt,o=/^[+-]?0[Xx]/,d=8!==s(a+"08")||22!==s(a+"0x16");t.exports=d?function(t,e){var n=i(String(t));return s(n,e>>>0||(o.test(n)?16:10))}:s},e25e:function(t,e,n){var r=n("23e7"),i=n("c20d");r({global:!0,forced:parseInt!=i},{parseInt:i})},f5a4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABhUlEQVR4Xu3Zy03EMBSF4WunAGiBDkzSAFQMHUADtlICHRAKSIIiMZsRy/s4R3Y2s7Pyf7azuJOk8yd13i8DYJyAzgXGFej8APB8BEspJef8llLaaq3PWhtHcQX+4j9SSo8i8lNrvX5VHniA+/h931/WdV1V6kWwr4B1/IUIewI84mEBvOIhATzj4QC846EAIuJhAKLiIQAi48MBouNDARDiwwBQ4kMAkOLdAdDiXQEQ490AUONdAJDjzQHQ400BGOLNAFjiTQCY4tUB2OLVAeZ5/r6NrrWnt1pT4Pt1VIeiy7JsIvJwnud2HMer5viaAuC6AtM0fTIhqJ6Aa5fYENQB2BBMAJgQzABYEEwBGBDMAdARXACQEdwAUBFcARAR3AHQEEIAkBDCAFAQQgEQEMIBohEgACIRYACiEKAAIhDgALwRIAE8EWABvBCgATwQ4AH+QfhqrT1pjckpAG4IOed3Edlaa6U7AK1g03+GrF7Scl2aK2CFMACsZFnWHSeAZaes3vMXMBn6UISvQ8QAAAAASUVORK5CYII="},f6eb:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-container"},[n("div",{on:{click:t.toggleRetun}},[n("Toptitle",{attrs:{title:t.title}})],1),n("div",{staticClass:"order-wrap"},[t._l(t.list,(function(e,r){return n("div",{staticClass:"upload-item"},[n("div",{staticClass:"upload-title"},[n("span",[t._v("上传安装视频（"+t._s(r+1)+"）")])]),n("div",{staticClass:"upload-content",on:{click:function(e){return t.handelonIndex(r)}}},[n("van-uploader",{attrs:{"before-read":t.beforeRead,accept:".mp4,.mp3,.avi","after-read":t.afterRead}},["3"===e.url?n("van-button",{attrs:{icon:"video"}},[t._v("上传安装视频")]):n("div",{staticClass:"video"},[n("video",{attrs:{src:e.url}})])],1),n("p",[t._v("点击进入相册选择需要上传的视频")])],1)])})),t.list.length<5?n("div",{staticClass:"continue",on:{click:t.toggleAdd}},[n("van-icon",{staticClass:"add-item",attrs:{name:"add-o"}}),t._v(" 继续添加视频 ")],1):t._e(),n("div",{staticClass:"add-tips"},[t._v("最多可上传5段视频("+t._s(t.list.length)+"/5)")])],2),n("van-overlay",{attrs:{show:t.show}},[n("van-loading",{attrs:{size:"24px"}},[t._v("上传中")])],1),n("div",{staticClass:"fixed"},[n("div",{staticClass:"turn ",attrs:{"data-v-0f60746f":""}},[n("div",{staticClass:"have-btn",on:{click:t.clickToUpload}},[t._v("确认上传视频")])])])],1)},i=[],a=(n("e25e"),n("a412")),s=n("f121"),o=(n("bc3a"),n("d399")),d=n("f8b7"),c=n("88e7"),l={name:"UploadVideo",data:function(){return{title:"选择视频",index:void 0,list:[],id:void 0,show:!1}},created:function(){var t=[{url:"3",order_id:this.$route.query.id}];this.id=this.$route.query.id,this.list=t},methods:{handelonIndex:function(t){this.index=t},beforeRead:function(t){return this.show=!0,!0},afterRead:function(t){var e=this,n=c["a"].ossUploadFile(t);n.then((function(t){var n=e.list;n[e.index].url=s["a"].oss_url+t.url,e.list=n,console.log(e.list),e.show=!1}))},clickToUpload:function(){for(var t=this,e=0;e<this.list.length;e++)if("3"===this.list[e].url)return Object(o["a"])("第"+parseInt(e+1)+"个视频没有添加视频，请先添加"),!1;var n={order_id:this.id,video:this.list};Object(d["g"])(n).then((function(e){t.$router.push({path:"/upload-succ"})}))},toggleRetun:function(){this.$router.go(-1)},toggleAdd:function(){5===this.list.length||this.list.push({order_id:this.id,url:"3"})}},components:{Toptitle:a["a"]}},u=l,f=(n("faca"),n("2877")),h=Object(f["a"])(u,r,i,!1,null,"2331baec",null);e["default"]=h.exports},f8b7:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"h",(function(){return o})),n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"a",(function(){return u}));var r=n("b775");function i(t){return Object(r["a"])({url:"/Order/GetDataByList",method:"get",params:t})}function a(t){return Object(r["a"])({url:"/Order/GetIdBydetails",method:"get",params:{id:t}})}function s(t){return Object(r["a"])({url:"/Order/GetIdByStatus",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/Order/PostNoteByAdd",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/Order/GetIdBy2DayOrder",method:"get",params:t})}function c(t){return Object(r["a"])({url:"Order/GetIdBy2DayImagesOrder",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/Order/PostDataByVideo",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/Order/GetCodeBycheckCode",method:"get",params:t})}},faca:function(t,e,n){"use strict";var r=n("1de7"),i=n.n(r);i.a}}]);
//# sourceMappingURL=chunk-1250c478.3dbebb6d.js.map