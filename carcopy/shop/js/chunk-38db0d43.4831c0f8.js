(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38db0d43"],{"3bb1":function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),i=n("5899"),r="["+i+"]",s=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),d=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},"5e59":function(t,e,n){"use strict";var a=n("9760"),i=n.n(a);i.a},9760:function(t,e,n){},a412:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toptitle nb",class:t.shadow?"bm":"",style:t.pstyle},[t._m(0),n("div",{staticClass:"name"},[t._v(t._s(t.title))])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toptitle-imgs"},[a("img",{attrs:{src:n("f5a4")}})])}],r=(n("b0c0"),{props:{title:{type:String,default:""},colorstr:{type:String,default:"#333"}},data:function(){return{pbstyle:{background:"#ffffff",color:this.colorstr},pstyle:void 0,shadow:void 0}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;t>150?(this.pstyle=this.pbstyle,this.pstyle.color="#000 !important",this.name={color:"#000"},this.src=2):(this.pstyle="",this.src=1,this.name={color:"#fff"})}}}),s=r,o=(n("5e59"),n("2877")),d=Object(o["a"])(s,a,i,!1,null,"0a693a99",null);e["a"]=d.exports},c20d:function(t,e,n){var a=n("da84"),i=n("58a8").trim,r=n("5899"),s=a.parseInt,o=/^[+-]?0[Xx]/,d=8!==s(r+"08")||22!==s(r+"0x16");t.exports=d?function(t,e){var n=i(String(t));return s(n,e>>>0||(o.test(n)?16:10))}:s},da1e:function(t,e,n){"use strict";var a=n("3bb1"),i=n.n(a);i.a},e25e:function(t,e,n){var a=n("23e7"),i=n("c20d");a({global:!0,forced:parseInt!=i},{parseInt:i})},f5a4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABhUlEQVR4Xu3Zy03EMBSF4WunAGiBDkzSAFQMHUADtlICHRAKSIIiMZsRy/s4R3Y2s7Pyf7azuJOk8yd13i8DYJyAzgXGFej8APB8BEspJef8llLaaq3PWhtHcQX+4j9SSo8i8lNrvX5VHniA+/h931/WdV1V6kWwr4B1/IUIewI84mEBvOIhATzj4QC846EAIuJhAKLiIQAi48MBouNDARDiwwBQ4kMAkOLdAdDiXQEQ490AUONdAJDjzQHQ400BGOLNAFjiTQCY4tUB2OLVAeZ5/r6NrrWnt1pT4Pt1VIeiy7JsIvJwnud2HMer5viaAuC6AtM0fTIhqJ6Aa5fYENQB2BBMAJgQzABYEEwBGBDMAdARXACQEdwAUBFcARAR3AHQEEIAkBDCAFAQQgEQEMIBohEgACIRYACiEKAAIhDgALwRIAE8EWABvBCgATwQ4AH+QfhqrT1pjckpAG4IOed3Edlaa6U7AK1g03+GrF7Scl2aK2CFMACsZFnWHSeAZaes3vMXMBn6UISvQ8QAAAAASUVORK5CYII="},f6eb:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-container"},[n("div",{on:{click:t.toggleRetun}},[n("Toptitle",{attrs:{title:t.title}})],1),n("div",{staticClass:"order-wrap"},[t._l(t.list,(function(e,a){return n("div",{staticClass:"upload-item"},[n("div",{staticClass:"upload-title"},[n("span",[t._v("上传安装视频（"+t._s(a+1)+"）")])]),n("div",{staticClass:"upload-content",on:{click:function(e){return t.handelonIndex(a)}}},[n("van-uploader",{attrs:{"before-read":t.beforeRead,accept:".mp4,.mp3,.avi","after-read":t.afterRead}},["3"===e.url?n("van-button",{attrs:{icon:"video"}},[t._v("上传安装视频")]):n("div",{staticClass:"video"},[n("video",{attrs:{src:e.url}})])],1),n("p",[t._v("点击进入相册选择需要上传的视频")])],1)])})),t.list.length<5?n("div",{staticClass:"continue",on:{click:t.toggleAdd}},[n("van-icon",{staticClass:"add-item",attrs:{name:"add-o"}}),t._v(" 继续添加视频 ")],1):t._e(),n("div",{staticClass:"add-tips"},[t._v("最多可上传5段视频("+t._s(t.list.length)+"/5)")])],2),n("van-overlay",{attrs:{show:t.show}},[n("van-loading",{attrs:{size:"24px"}},[t._v("上传中")])],1),n("div",{staticClass:"fixed"},[n("div",{staticClass:"turn ",attrs:{"data-v-0f60746f":""}},[n("div",{staticClass:"have-btn",on:{click:t.clickToUpload}},[t._v("确认上传视频")])])])],1)},i=[],r=(n("e25e"),n("a412")),s=n("f121"),o=n("bc3a"),d=n.n(o),c=n("d399"),l=n("f8b7"),u={name:"UploadVideo",data:function(){return{title:"选择视频",index:void 0,list:[],id:void 0,show:!1}},created:function(){var t=[{url:"3",order_id:this.$route.query.id}];this.id=this.$route.query.id,this.list=t},methods:{handelonIndex:function(t){this.index=t},beforeRead:function(t){return this.show=!0,!0},afterRead:function(t){var e=this,n=s["a"].uploadUrl.img,a=new FormData;a.append("file",t.file),d.a.post(n,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var n=e.list;n[e.index].url=t.data.data,e.list=n,e.show=!1})).catch((function(t){alert(t)}))},clickToUpload:function(){for(var t=this,e=0;e<this.list.length;e++)if("3"===this.list[e].url)return Object(c["a"])("第"+parseInt(e+1)+"个视频没有添加视频，请先添加"),!1;var n={order_id:this.id,video:this.list};Object(l["f"])(n).then((function(e){t.$router.push({path:"/upload-succ"})}))},toggleRetun:function(){this.$router.go(-1)},toggleAdd:function(){5===this.list.length||this.list.push({order_id:this.id,url:"3"})}},components:{Toptitle:r["a"]}},f=u,p=(n("da1e"),n("2877")),h=Object(p["a"])(f,a,i,!1,null,"683382aa",null);e["default"]=h.exports},f8b7:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"g",(function(){return o})),n.d(e,"c",(function(){return d})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return l}));var a=n("b775");function i(t){return Object(a["a"])({url:"/Order/GetDataByList",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/Order/GetIdBydetails",method:"get",params:{id:t}})}function s(t){return Object(a["a"])({url:"/Order/GetIdByStatus",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/Order/PostNoteByAdd",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/Order/GetIdBy2DayOrder",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/Order/PostDataByVideo",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/Order/GetCodeBycheckCode",method:"get",params:{code:t}})}}}]);
//# sourceMappingURL=chunk-38db0d43.4831c0f8.js.map